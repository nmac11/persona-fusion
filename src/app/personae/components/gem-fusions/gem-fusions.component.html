<div style="padding: 24px 4px 16px">
  <mat-accordion *ngIf="fusions">
    <mat-expansion-panel *ngFor="let fusion of fusions">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{fusion.gem.name}} ({{fusion.personae.length}} {{ fusion.personae.length === 1 ? 'fusion' : 'fusions'}})
        </mat-panel-title>
        <mat-panel-description>
          <small class="mat-caption">
            {{fusion.gem.arcanaName}} / Lv. {{fusion.gem.level}}
          </small>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <mat-list dense>
        <mat-list-item *ngFor="let persona of fusion.personae">
          <div mat-line>
            <span class="mat-body-2">{{persona.persona.name}}</span>
          </div>  
          <small mat-line class="mat-caption">Base lv. {{persona.persona.level}}</small>
          <small mat-line class="mat-caption">Lv. {{persona.levelRange.join('-')}}</small>
          <a mat-button color="primary" (click)="openBottomSheet([fusion.gem, persona.persona], persona.levelRange[0])">VIEW</a>
        </mat-list-item>
      </mat-list>
    </mat-expansion-panel>
  </mat-accordion>
</div>
